<!DOCTYPE html>
<html>
    <%- include('includes/head.ejs') %>
    <%- include('includes/nav.ejs') %>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-10">
                <p><b>Welcome <%=name%>!</b></p>
            </div>
            <%- include('includes/logoutButton.ejs') %>
        </div>
        <div class="row whiteBox">
            <input class="searchInput" type="text" id="myInput" onkeyup="myFunction('myInput')" placeholder="Search for names..">
            <a class="purpleButton" href="/contact">Members</a>
        </div>
        <%
        if(userData.length != 0){
        %>
        <div class="row">
            <div class="col">
                <!-- <div>
                    <div>Selected: </div>
                    <div id="numberSelected"></div>
                </div> -->
                <table class="table2 whiteBox" id="contactList" border="1">
                    <tr>
                        <th>No.</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone Number</th>
                        <th>Area</th>
                        <th>Status</th>
                        <th>Delete</th>
                        <th>Approve</th>
                    </tr>
                    <%
                        if(userData.length != 0){
                            var i = 1;
                            userData.forEach(function(data){
                        %>
                        <tr>
                            <td><%=i%></td>
                            <td><%=data.name%></td>
                            <td><%=data.email%></td>
                            <td><%=data.phone%></td>
                            <td><%=data.area%></td>
                            <td><%=data.role%></td>
                            <td >
                                <a class="red" href="/approve/delete/<%=data.email%>/<%=data.username%>">Delete</a>
                            </td>
                            <td >
                                <a class="red" href="/approve/approved/<%=data.email%>/<%=data.username%>">Approve</a>
                            </td>
                            <!-- <td>
                                <input type="checkbox" id="<%=i%>" class="checkbox" onclick="select()">
                            </td> -->
                        </tr>
                        
                        <%
                            i++;
                            });
                        }
                        %>
                </table>
            </div>
        </div>
        <%
        } else {
        %>
        <h2>NOT FOUND</h2>
        <%
        }
        %>
    </div>
</body>
<!-- <script>
    var number = document.getElementById('numberSelected');
    var num = 0;
    var tr = document.getElementsByTagName('tr');
    var i;

    number.style.display = 'block';

    setInterval(select, 100);

    
    function select(){
        // console.log(document.querySelectorAll('input[type = checkbox]:checked').length);
        number.innerHTML = document.querySelectorAll('input[type = checkbox]:checked').length;
        // var checkBox = document.getElementById(i);
        // checkBox.addEventListener('change', function() {
        //     if(this.checked) {
        //         number.style.display = 'block';
        //     } else {
        //         number.style.display = 'none';
                
        //     }
        // })
    }
</script> -->
</html>